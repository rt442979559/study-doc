import{_ as E,a6 as B,a7 as H,o as a,c as p,a as s,q as N,s as k,a8 as $,m as g,v as _,b as l,w as n,T as v,H as f,K as c,L as d,t as b,r as i}from"./app.ab3d721a.js";const w={components:{CaretBottom:B,CaretTop:H},data(){return{hovering:!1,isExpanded:!1,fixedControl:!1,scrollParent:null,langConfig:{"hide-text":"\u9690\u85CF\u4EE3\u7801","show-text":"\u663E\u793A\u4EE3\u7801"}}},props:["componentName","quote"],methods:{scrollHandler(){const{top:e,bottom:o,left:r}=this.$refs.meta.getBoundingClientRect();this.fixedControl=o>document.documentElement.clientHeight&&e+44<=document.documentElement.clientHeight},removeScrollHandler(){this.scrollParent&&this.scrollParent.removeEventListener("scroll",this.scrollHandler)}},computed:{lang(){return this.$route.path.split("/")[1]},blockClass(){return`demo-${this.lang} demo-${this.$router.currentRoute.value.path.split("/").pop()}`},controlText(){return this.isExpanded?this.langConfig["hide-text"]:this.langConfig["show-text"]},codeArea(){return this.$el.getElementsByClassName("meta")[0]},codeAreaHeight(){return this.$el.getElementsByClassName("description").length>0?this.$el.getElementsByClassName("description")[0].clientHeight+this.$el.getElementsByClassName("sourceCode")[0].clientHeight+20:this.$el.getElementsByClassName("sourceCode")[0].clientHeight}},watch:{isExpanded(e){if(this.codeArea.style.height=e?`${this.codeAreaHeight+1}px`:"0",!e){this.fixedControl=!1,this.$refs.control.style.left="0",this.removeScrollHandler();return}setTimeout(()=>{this.scrollParent=document.querySelector(".page-component__scroll > .el-scrollbar__wrap"),this.scrollParent&&this.scrollParent.addEventListener("scroll",this.scrollHandler),this.scrollHandler()},200)}},mounted(){this.$nextTick(()=>{let e=this.$el.getElementsByClassName("sourceCode")[0];this.$el.getElementsByClassName("description").length===0&&(e.style.width="100%",e.borderRight="none")})},beforeDestroy(){this.removeScrollHandler()}},T={style:{padding:"24px"}},P={class:"meta",ref:"meta"},S={key:0,class:"description"},q={class:"sourceCode"},A={class:"text-slide-block"};function D(e,o,r,z,t,m){const C=i("CaretBottom"),h=i("el-icon"),x=i("CaretTop"),y=i("el-space");return a(),p("div",{class:f(["demo-block",[m.blockClass,{hover:t.hovering}]]),onMouseenter:o[1]||(o[1]=u=>t.hovering=!0),onMouseleave:o[2]||(o[2]=u=>t.hovering=!1)},[s("div",T,[r.componentName?(a(),N($(r.componentName),k({key:0,quote:r.quote},e.$attrs),null,16,["quote"])):g("",!0)]),s("div",P,[e.$slots.default?(a(),p("div",S,[_(e.$slots,"default")])):g("",!0),s("div",q,[_(e.$slots,"sourceCode")])],512),s("div",{class:"demo-block-control",ref:"control",onClick:o[0]||(o[0]=u=>t.isExpanded=!t.isExpanded)},[l(v,{name:"arrow-slide"},{default:n(()=>[s("i",{class:f([e.iconClass,{hovering:t.hovering}])},null,2)]),_:1}),l(v,{name:"text-slide"},{default:n(()=>[s("div",A,[l(y,null,{default:n(()=>[c(l(h,{size:"14"},{default:n(()=>[l(C)]),_:1},512),[[d,!t.isExpanded]]),c(l(h,{size:"14"},{default:n(()=>[l(x)]),_:1},512),[[d,t.isExpanded]]),c(s("span",null,b(m.controlText),513),[[d,t.hovering]])]),_:1})])]),_:1})],512)],34)}var R=E(w,[["render",D],["__file","v-code.vue"]]);export{R as default};
